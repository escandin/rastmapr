TODOIf the projection of the reference and target are difference, then detect the difference and reproject the target to the projection of the reference.Include an additional optional argument where the user can define which pixels from the qa layer should be used for masking out the images.Add a check at the beginning of the code about whether all required data (metadata, qa_layer, DEM) exist.